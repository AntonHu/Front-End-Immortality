# ä¸ªäººåšå®¢é«˜æ•ˆç¼–è¾‘æŒ‡å—

å¤§éƒ¨åˆ†å¼€å‘è€…éƒ½ä¼šé€‰æ‹© **Github Pages** å…è´¹éƒ¨ç½²è‡ªå·±çš„åšå®¢ï¼Œä½†æ˜¯ä¸ªäººåšå®¢æ­å»ºå¥½ä¹‹åï¼Œæ›´æ–°èµ·æ¥å´éº»çƒ¦å¾—å¾ˆï¼Œå¦¨ç¢æ›´æ–°é¢‘ç‡çš„å¾€å¾€æ˜¯ç¼–è¾‘æ•ˆç‡å¤ªä½ã€‚

ä¸ºæ­¤ï¼Œæˆ‘åšäº†ä»¥ä¸‹è°ƒç ”ï¼Œé™¤äº†éœ€è¦æ‰¾åˆ°ä¸€ä¸ªé«˜æ•ˆç¼–å†™æ–‡ç« çš„æ–¹æ¡ˆï¼Œè¿˜æœ‰ä¸€ç‚¹æ›´é‡è¦çš„ï¼Œé‚£å°±æ˜¯ **å…è´¹** ğŸ˜ã€‚æ—¢ç„¶éƒ½é€‰æ‹© **Github** çš„ç™½å«–æœåŠ¡å™¨äº†ï¼Œè‡ªç„¶æ˜¯ä¸æƒ³å¢åŠ å¼€é”€çš„ï¼Œä½œä¸ºå¤§å¤šæ•°å¼€å‘è€…é¦–ä¸ªåšå®¢çš„å°è¯•ï¼Œä»˜è´¹ä¹Ÿä¼šåŠé€€å¾ˆå¤šäººğŸ¥ºã€‚

æœ€ç»ˆæ€»ç»“å‡ºäº†ä¸€å¥—é«˜æ•ˆçš„å†™åšå®¢æ–¹æ¡ˆï¼Œæ–¹æ¡ˆåŒ…å«ä¸¤éƒ¨åˆ†ï¼š**Markdownç¼–è¾‘å™¨ + å›¾åºŠ**

## ç¼–è¾‘æ–¹æ¡ˆè°ƒç ”

é¦–å…ˆè¿›è¡Œäº†mdç¼–è¾‘å™¨è°ƒç ”ï¼Œæƒ³è¦é«˜æ•ˆçš„è¿›è¡Œåšå®¢ç¼–å†™ï¼Œå¸¸ç”¨çš„ç¼–è¾‘åŠŸèƒ½å¿…é¡»å¥½ç”¨æ˜“ç”¨ï¼Œä¸ºæ­¤æ€»ç»“äº†ä»¥ä¸‹è¦ç‚¹ï¼š

- æ”¯æŒmarkdownç¼–è¾‘å®æ—¶é¢„è§ˆï¼›

- å›¾ç‰‡ä¸Šä¼ æ–¹ä¾¿ï¼Œèƒ½ç›´æ¥ç²˜è´´å›¾ç‰‡ï¼›
- ç›®å½•å’Œæ–‡æ¡£ç®¡ç†ç›´è§‚ä¾¿æ·ï¼›
- å¤šå¹³å°åˆ†å‘æ— éšœç¢ï¼Œèƒ½å…¨æ–‡å¤åˆ¶ç²˜è´´åˆ°å…¶ä»–å¹³å°ï¼›
- å…è´¹ï¼ï¼ï¼

ä¸‹é¢å¯¹è°ƒç ”çš„å„ä¸ªæ–¹æ¡ˆè¿›è¡Œä»‹ç»

### Githubç¼–è¾‘

å°±æ˜¯é€šè¿‡åœ¨Githubä¸Šï¼Œä½ çš„åšå®¢é¡¹ç›®ï¼Œç›´æ¥åˆ›å»ºä¸ä¿®æ”¹æ–‡ç« çš„mdæ–‡ä»¶æºç æ¥ç¼–è¾‘æ–‡ç« ã€‚

#### æ¼”ç¤º

ç›´æ¥åœ¨åšå®¢çš„Githubé¡¹ç›®ä»“åº“ï¼Œå¯ä»¥æ–°å¢mdæ–‡ä»¶ï¼Œç¼–å†™æ–°çš„æ–‡ç« 

![image-20250216165512537](https://cdn.jsdelivr.net/gh/antonhu/picx-images-hosting/picGo/image-20250216165512537.png)

ä¹Ÿå¯ä»¥æ‰¾åˆ°å¯¹åº”çš„mdæ–‡ä»¶ï¼Œæ‰“å¼€ç¼–è¾‘å³å¯ä¿®æ”¹æ–‡ç« 

![image-20250216165242761](https://cdn.jsdelivr.net/gh/antonhu/picx-images-hosting/picGo/image-20250216165242761.png)

æ”¯æŒç›´æ¥å°†å›¾ç‰‡ç²˜è´´è¿›ç¼–è¾‘æ¡†ï¼Œä¼šè‡ªåŠ¨ä¸Šä¼ githubæœåŠ¡å™¨è¿”å›ä¸€ä¸ªå›¾ç‰‡é“¾æ¥

![1739699798833](https://cdn.jsdelivr.net/gh/antonhu/picx-images-hosting/picGo/1739699798833.jpg)

ç¼–å†™å¥½äº†ä¹‹åï¼Œåˆ‡æ¢Preview Tabå¯ä»¥é¢„è§ˆæ•ˆæœ

![image-20250216165632857](https://cdn.jsdelivr.net/gh/antonhu/picx-images-hosting/picGo/image-20250216165632857.png)

æ•ˆæœæ»¡æ„ä¹‹åå³å¯å³ä¸Šè§’æäº¤commit changesæ›´æ–°gitä»“åº“ï¼Œå¦‚æœä½ é…ç½®äº†git actionså°±ä¼šè‡ªåŠ¨éƒ¨ç½²äº†

![image-20250216165750321](https://cdn.jsdelivr.net/gh/antonhu/picx-images-hosting/picGo/image-20250216165750321.png)

#### ç»“è®º

ç›´æ¥åœ¨Githubç¼–å†™åšå®¢æœ‰ä»¥ä¸‹ **ä¼˜ç‚¹**ï¼š

1. æ”¯æŒç²˜è´´å›¾ç‰‡ï¼Œè‡ªåŠ¨è½¬æˆGithubæœåŠ¡å™¨è¿”é“¾ï¼›
2. æ”¯æŒä¸€é”®æäº¤commitï¼Œä¾¿æ·æ›´æ–°åšå®¢ä»“åº“ï¼›

ä½†æ˜¯åœ¨Githubä¸Šç¼–è¾‘çš„ **ç¼ºç‚¹** åè€Œåˆæ‹‰ä½äº†æ•ˆç‡ï¼š

1. ä¸èƒ½ä¸€è¾¹ç¼–è¾‘ä¸€è¾¹é¢„è§ˆï¼Œä½¿ç”¨ä½“éªŒä¸ä½³ï¼›
2. Githubä¸Šç¿»æ‰¾æ‰“å¼€mdéœ€è¦åŠ è½½æ—¶é—´ï¼Œå½±å“æ•ˆç‡ï¼›

æ‰€ä»¥Githubä¸Šç¼–è¾‘åšå®¢ä¸æ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©ï¼Œé€‚åˆä¸´æ—¶éœ€è¦æ”¹ä¸€ä¸ªå°é—®é¢˜ï¼Œèº«è¾¹åˆæ²¡æœ‰å¸¸ç”¨çš„è®¾å¤‡æ—¶ï¼Œä½¿ç”¨Githubç¼–è¾‘åº”æ€¥ã€‚

### é›†æˆåœ¨çº¿ç¼–è¾‘

å°±æ˜¯åœ¨ä½ çš„åšå®¢é¡¹ç›®ä¸Šï¼Œå®ç°ç›´æ¥ç¼–è¾‘æ–‡ç« çš„åŠŸèƒ½ã€‚

#### æ¼”ç¤º

é€šè¿‡é›†æˆåœ¨çº¿ç¼–è¾‘åº“ **[md-editor-v3](https://github.com/imzbf/md-editor-v3)** ï¼Œç›´æ¥åœ¨åšå®¢ä¸Šä¿®æ”¹ã€‚![image-20250216161433920](https://cdn.jsdelivr.net/gh/antonhu/picx-images-hosting/picGo/image-20250216161433920.png)

#### ç»“è®º

**ä¼˜ç‚¹** å¾ˆæ˜æ˜¾ï¼Œè¿™æ˜¯ç¼–å†™æ–‡ç« æœ€æ–¹ä¾¿çš„æ–¹æ¡ˆï¼Œä¸€è¾¹æ£€é˜…åšå®¢çš„åŒæ—¶è¿˜èƒ½ä¸€è¾¹ä¿®æ”¹ï¼Œåšå®¢çš„é¢„è§ˆå’Œç¼–è¾‘éƒ½åœ¨ä¸€ä¸ªç½‘é¡µåº”ç”¨ä¸Šï¼Œç®¡ç†èµ·æ¥ååˆ†çš„ç»Ÿä¸€ã€‚

ä½†æ˜¯æœ€å¤§çš„ **ç¼ºç‚¹** å°±æ˜¯ï¼Œå®šåˆ¶åŒ–å¤ªé«˜ï¼Œä¸Šæ‰‹å›°éš¾ï¼Œä½ éœ€è¦è‡ªå·±å®ç°ç¼–è¾‘è¿‡ç¨‹ä¸­çš„å›¾ç‰‡è‡ªåŠ¨ä¸Šä¼ å›¾åºŠï¼Œä¿®æ”¹åè‡ªåŠ¨æ¨é€Githubä»“åº“ï¼Œè¿˜æœ‰è‡ªåŠ¨éƒ¨ç½²ä»¥åŠåšå®¢è‡ªåŠ¨åˆ·æ–°ç­‰ã€‚

å°¤å…¶æ˜¯ä¿å­˜å’Œåˆ·æ–°åšå®¢è¿™ä¸€åŠŸèƒ½çš„è®¾è®¡ï¼ŒGithub Pagesåšå®¢æ˜¯SSGçš„æ¶æ„ï¼Œæ¸²æŸ“é™æ€èµ„æºæ¥é¢„è§ˆï¼Œé¡µé¢çš„å†…å®¹æƒ³è¦æ›´æ–°ï¼Œå°±éœ€è¦é‡æ–°éƒ¨ç½²ï¼Œå¦‚æœæ¯æ¬¡ä¿®æ”¹éƒ½éœ€è¦éƒ¨ç½²ä¹‹åæ‰èƒ½é¢„è§ˆï¼Œååˆ†ä¸åˆç†ã€‚

è™½ç„¶èƒ½é€šè¿‡ä¸€äº›è®¾è®¡æ¥è§£å†³ï¼Œä¾‹å¦‚ä½¿ç”¨ç¼“å­˜æ¥æš‚å­˜æ–‡ç« çš„ä¿®æ”¹ä¸é¢„è§ˆï¼Œå†æ‹©æœºåå°è§¦å‘GITæ¨é€ï¼Œä½†ä»æœ‰ä¸¢å¤±æ•°æ®çš„é£é™©ã€‚æ€»ä¹‹è¿™ä¸æ˜¯ä¸€ä¸ªç»ä½³çš„æ–¹æ¡ˆï¼Œåè€Œæ˜¯æ›´é€‚åˆ **CSR** çš„åšå®¢ï¼Œ**SSG** è¿˜æ˜¯ä¸è¦è€ƒè™‘äº†ã€‚

### å…¬å¼€ç¤¾åŒºç¼–è¾‘

åƒæ˜é‡‘/çŸ¥ä¹/CSDN/å…¬ä¼—å·ç­‰å…¬å¼€çš„ç¤¾åŒºå¹³å°ï¼Œé£ä¹¦/é’‰é’‰/è…¾è®¯ç­‰åŠå…¬äº‘æ–‡æ¡£ï¼Œä»–ä»¬çš„ç¼–è¾‘å™¨èƒ½åŠ›éƒ½å¾ˆå¼ºå¤§ä¹Ÿå¾ˆæ–¹ä¾¿ã€‚

![image-20250216183645172](https://cdn.jsdelivr.net/gh/antonhu/picx-images-hosting/picGo/image-20250216183645172.png)

ä½†è¿™ä¸ªæ–¹æ¡ˆæœ€å¤§çš„ç¼ºç‚¹æ˜¯ **å›¾ç‰‡** èµ„æºçš„é—®é¢˜ï¼Œåœ¨è¿™äº›å¹³å°å†™å¥½çš„æ–‡ç« ï¼Œç›´æ¥å¤åˆ¶åˆ°æˆ‘ä»¬çš„ä¸ªäººåšå®¢ï¼Œå›¾ç‰‡å¾ˆæœ‰å¯èƒ½æ˜¯ç”¨ä¸äº†çš„ï¼Œå°±ç®—å½“ä¸‹æ²¡é—®é¢˜ï¼Œå›¾ç‰‡é“¾æ¥ä¹Ÿæ˜¯æœ‰æœ‰æ•ˆæœŸçš„ï¼Œå› ä¸ºåŒ…å«tokenä¿¡æ¯ã€‚

è¿™ä¹Ÿæ˜¯ä¸ºäº†é˜²æ­¢æœ‰äººå°†å¹³å°ä½œä¸ºå›¾åºŠï¼Œå¹³å°ä»¬éƒ½é™åˆ¶äº†å›¾ç‰‡èµ„æºè®¿é—®çš„åŸŸåã€‚

#### ç»“è®º

è¿™ä¸ªæ–¹æ¡ˆæ²¡æ³•å°†å†™å¥½çš„æ–‡ç« ç›´æ¥æ‹·è´åˆ°ä¸ªäººåšå®¢ï¼Œå› ä¸ºå›¾ç‰‡æœ‰åŸŸåé™åˆ¶ï¼Œä½ è¿˜å¾—è‡ªå·±å°†å›¾ç‰‡ä¼ åˆ°ä½ çš„å›¾åºŠï¼Œå†æŠŠæ¯å¼ å›¾ç‰‡çš„é“¾æ¥ä¿®æ”¹å¥½ï¼Œè¿™æ— ç–‘åˆæ˜¯ä½æ•ˆçš„ï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹æ¡ˆä¹Ÿä¸å¥½ğŸ˜¥ã€‚

### æœ¬åœ°ç¼–è¾‘

#### ç¼–è¾‘å™¨

æœ¬åœ°ç¼–è¾‘ä½ å¯ä»¥ä½¿ç”¨è®°äº‹æœ¬ï¼Œä¹Ÿå¯ä»¥ç”¨ **VSCode**ï¼Œä½†æ˜¯æœ€å¥½ç”¨çš„è¿˜æ˜¯ä½¿ç”¨Markdownä¸“ç”¨çš„ç¼–è¾‘å™¨ã€‚

çŸ¥ååº¦æœ€é«˜çš„MDç¼–è¾‘å™¨å°±æ˜¯ [**Typora** ](https://typora.io/)äº†ï¼Œä¸ä½¿ç”¨æ’ä»¶ç­‰é«˜çº§åŠŸèƒ½çš„è¯ï¼Œä¸ªäººä½¿ç”¨ä»–æ˜¯å…è´¹çš„ã€‚

![image-20250216184252485](https://cdn.jsdelivr.net/gh/antonhu/picx-images-hosting/picGo/image-20250216184252485.png)

å½“ç„¶è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„å…è´¹MDç¼–è¾‘å™¨å¯ä»¥é€‰æ‹©ï¼Œä¾‹å¦‚å¼€æºçš„ [MarkText](https://github.com/marktext/marktext)

![image-20250216185017365](https://cdn.jsdelivr.net/gh/antonhu/picx-images-hosting/picGo/image-20250216185017365.png)

ä¸‹é¢å°±å¼€å§‹ä»‹ç»æˆ‘ä½¿ç”¨çš„Typoraå§ï¼Œè½¯ä»¶ä»å®˜ç½‘ä¸‹è½½å¯¹åº”ç³»ç»Ÿçš„å®‰è£…åŒ…ï¼Œä¸€é”®å®‰è£…å°±èƒ½ä½¿ç”¨ï¼Œç•Œé¢å¾ˆç®€æ´ï¼Œå¯¼å…¥ä½ çš„åšå®¢é¡¹ç›®ï¼Œè½¯ä»¶ä¼šæŠŠæ‰€æœ‰mdæ–‡ä»¶è¯†åˆ«å‡ºæ¥ï¼Œéšè—æ— å…³çš„æ–‡ä»¶ï¼Œç›®å½•ç»“æ„ä¸€ç›®äº†ç„¶ã€‚

![image-20250216185306635](https://cdn.jsdelivr.net/gh/antonhu/picx-images-hosting/picGo/image-20250216185306635.png)

ç¼–è¾‘è¿‡ç¨‹æ˜¯å®æ—¶é¢„è§ˆçš„ï¼Œç¼–è¾‘å’Œé¢„è§ˆåŒæ­¥æ¸²æŸ“ï¼Œä¹¦å†™Markdownæ ¼å¼å­—ç¬¦è‡ªåŠ¨è½¬æˆé¢„è§ˆæ•ˆæœï¼Œç¼–è¾‘ä½“éªŒå¾ˆå¥½ã€‚

![image-20250216190000964](https://cdn.jsdelivr.net/gh/antonhu/picx-images-hosting/picGo/image-20250216190000964.png)

#### è‡ªåŠ¨ä¸Šä¼ å›¾åºŠ

æœ€é‡è¦çš„æ˜¯ï¼ŒTyporaæ”¯æŒé…ç½®å›¾ç‰‡ç²˜è´´çš„å¤„ç†æ–¹å¼ï¼Œå¯ä»¥é…ç½®ä¸ºä¸Šä¼ å›¾åºŠï¼Œè‡ªåŠ¨å°†ç²˜è´´è¿›æ¥çš„å›¾ç‰‡ä¸Šä¼ åˆ°å›¾åºŠï¼Œå¹¶æ›¿æ¢æˆå›¾åºŠè¿”é“¾ï¼

è¿™æ˜¯**ç²˜è´´è¿›æ¥çš„å›¾ç‰‡**ï¼š

![image-20250216194223255](https://cdn.jsdelivr.net/gh/antonhu/picx-images-hosting/picGo/image-20250216194223255.png)

è¿™æ˜¯Typoraè‡ªåŠ¨ä¸Šä¼ åæ›¿æ¢çš„ **å›¾åºŠå›¾ç‰‡**ï¼š

![image-20250216194304159](https://cdn.jsdelivr.net/gh/antonhu/picx-images-hosting/picGo/image-20250216194304159.png)

#### ç»“è®º

ä½¿ç”¨ **Typora+è‡ªåŠ¨ä¸Šä¼ å›¾ä¼ ** åŠŸèƒ½ï¼Œå¯ä»¥é«˜æ•ˆåœ°åœ¨æœ¬åœ°è¿›è¡Œæ–‡ç« çš„ç¼–è¾‘å’Œé¢„è§ˆï¼Œæ˜¯ç›®å‰è°ƒç ”ä¸‹æ¥çš„æœ€ä½³æ–¹æ¡ˆã€‚æœªæ¥å°†ç›´æ¥åœ¨æœ¬åœ°è¿›è¡Œä¸€æ‰‹çš„åšå®¢ç¼–å†™ï¼Œå†å¤åˆ¶åˆ°å…¬å¼€çš„ç¤¾åŒºé‡Œåˆ†å‘ï¼Œé«˜æ•ˆç»´æŠ¤æ‰€æœ‰å¹³å°ï¼

## å›¾åºŠæ–¹æ¡ˆè°ƒç ”

è§£å†³äº†ç¼–è¾‘å™¨çš„é€‰å‹ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªå›¾åºŠï¼Œæˆ‘ä¹Ÿæ€»ç»“äº†ä»¥ä¸‹è¦ç‚¹ï¼š

- å›¾åºŠæœåŠ¡å®‰å…¨ç¨³å®šï¼›
- å›¾åºŠç©ºé—´è¶³å¤Ÿä¸ªäººåšå®¢çš„ä½¿ç”¨ï¼›
- æ”¯æŒAPIè°ƒç”¨ï¼Œä½¿ç”¨ç¬¬ä¸‰æ–¹ç®¡ç†å›¾åºŠï¼ˆæ­é…Typoraè¿™ç±»ç¼–è¾‘å™¨ä½¿ç”¨ï¼‰ï¼›
- å…è´¹ï¼ï¼ï¼

ç„¶åæˆ‘è°ƒç ”äº†ä»¥ä¸‹å…è´¹å›¾åºŠçš„æ–¹æ¡ˆï¼š

### ç¬¬ä¸‰æ–¹å›¾åºŠ

è™½ç„¶æœ‰ä¸å°‘å…è´¹çš„ç¬¬ä¸‰æ–¹å›¾åºŠï¼Œæœ‰çš„é™åˆ¶å®¹é‡ç©ºé—´ï¼Œæœ‰çš„å®Œå…¨å¼€æ”¾ä¸éœ€è¦è´¦å·ï¼Œä½†éƒ½æœ‰ä¸€å®šé£é™©ï¼Œéšç§å®‰å…¨æ˜¯å…¶æ¬¡ï¼Œå› ä¸ºæˆ‘ä»¬çš„ä¸ªäººåšå®¢åœ¨Githubä¸Šæœ¬å°±æ˜¯å¼€æºçš„ï¼Œæœ€é‡è¦çš„æ˜¯ç¨³å®šæ€§ï¼Œå¦‚æœå›¾åºŠåœæ­¢è¿è¥æˆ–è€…æ”¶è´¹äº†ï¼Œåˆ°æ—¶å€™åšå®¢å›¾ç‰‡å¤„ç†å°†ååˆ†éº»çƒ¦ã€‚

### äº‘æœåŠ¡å‚å•†

çŸ¥åäº‘æœåŠ¡å‚å•†åŸºæœ¬éƒ½ä¸å…è´¹ï¼Œä¸ªåˆ«æœ‰å…è´¹é¢åº¦çš„**CloudFlare**å’Œ**ä¸ƒç‰›äº‘**ï¼Œå®é™…ä¸Šç”¨èµ·æ¥éƒ½äº«å—ä¸åˆ°å…è´¹é¢åº¦ï¼Œä¾‹å¦‚ [ä¸ƒç‰›äº‘](https://www.qiniu.com/prices/kodo)ï¼š

| æ ‡å‡†å­˜å‚¨æ¯æœˆå…è´¹ç©ºé—´ | æ ‡å‡†å­˜å‚¨æ¯æœˆå…è´¹ CDN å›æºæµé‡ | æ ‡å‡†å­˜å‚¨æ¯æœˆå…è´¹å†™è¯·æ±‚ PUT/DELETE | æ ‡å‡†å­˜å‚¨æ¯æœˆå…è´¹è¯»è¯·æ±‚ GET | æ¯æœˆå…è´¹ä¸Šä¼ æµé‡ |
| -------------------- | ----------------------------- | --------------------------------- | -------------------------- | ---------------- |
| 10GB                 | 10GB                          | 10ä¸‡æ¬¡                            | 100ä¸‡æ¬¡                    | æ— ä¸Šé™           |

çœ‹èµ·æ¥ä¼¼ä¹å¾ˆä¸é”™ï¼Œä½†è®¿é—®ä¸ƒç‰›äº‘OSSæ˜¯è¦é…ç½®è‡ªå·±çš„åŸŸåçš„ï¼ŒåŸŸåè¦è´­ä¹°ï¼Œè¿èƒŒäº†ç™½å«–åŸåˆ™ï¼Œè€Œä¸”é€šè¿‡è‡ªå®šä¹‰åŸŸåè®¿é—®å±äºå¤–ç½‘æµé‡ï¼Œä¹Ÿä¸åœ¨å…è´¹é¢åº¦å†…ğŸ˜–ã€‚

ä¸ƒç‰›äº‘è¿˜æä¾›äº†ç³»ç»ŸåŸŸåï¼Œè¿™æ˜¯èƒ½äº«å—åˆ°å…è´¹é¢åº¦çš„å”¯ä¸€åŠæ³•äº†ï¼Œä½†æ˜¯è¿™æ˜¯æµ‹è¯•åŸŸåï¼Œæ¯ä¸ªæœˆéƒ½ä¼šå˜åŠ¨çš„ï¼Œæ€»ä¸èƒ½æ¯ä¸ªæœˆæŠŠåšå®¢é‡Œä½¿ç”¨çš„å›¾ç‰‡åŸŸåéƒ½æ”¹æ‰ï¼Œæ‰€ä»¥æ”¾å¼ƒäº†ã€‚

### å¼€æºä»“åº“

æ—¢ç„¶æˆ‘ä»¬çš„åšå®¢éƒ½å¯ä»¥ç™½å«–Github Pagesäº†ï¼Œé‚£åŒç†å›¾ç‰‡æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥ğŸ˜ï¼è€Œä¸”æˆ‘ä»¬ä¸éœ€è¦éƒ¨ç½²Pagesï¼Œåªè¦è®¿é—®ä»“åº“ä¸­å›¾ç‰‡æ–‡ä»¶çš„rawé“¾æ¥ï¼Œå°±èƒ½è®¿é—®åˆ°å›¾ç‰‡äº†ï¼š

**ä»“åº“æ–‡ä»¶è·¯å¾„**ï¼š

![image-20250216203154600](https://cdn.jsdelivr.net/gh/antonhu/picx-images-hosting/picGo/image-20250216203154600.png)

**å›¾ç‰‡èµ„æºåœ°å€**ï¼š

![image-20250216203057903](https://cdn.jsdelivr.net/gh/antonhu/picx-images-hosting/picGo/image-20250216203057903.png)

Githubçš„ç¨³å®šæ˜¯æ¯‹åº¸ç½®ç–‘çš„ï¼Œè€Œä¸”ä¹Ÿæä¾›Git Hookså¯ä»¥åœ¨ç¬¬ä¸‰æ–¹ç®¡ç†ä»“åº“å†…çš„å›¾ç‰‡èµ„æºï¼Œä»“åº“æœ‰1GBçš„å®¹é‡é™åˆ¶ï¼Œå•æ–‡ä»¶50MBçš„å¤§å°é™åˆ¶ï¼Œå®Œå…¨å¤Ÿç”¨äº†ã€‚

çœ‹æ¥Githubå°±æ˜¯æˆ‘ä»¬çš„æœ€ä½³å…è´¹å›¾åºŠäº†ğŸ¥¹ï¼Œè€Œä¸”å¦‚æœæ‹…å¿ƒgithubå›¾ç‰‡èµ„æºåŠ è½½å¤ªæ…¢ï¼Œåé¢çš„é…ç½®æ•™ç¨‹æˆ‘è¿˜æä¾›äº†CDNåŠ é€Ÿçš„å…è´¹æ–¹æ¡ˆã€‚

æ³¨æ„ï¼šä¸èƒ½ç”¨ **Gitee** ä»“åº“ä½œä¸ºå›¾åºŠï¼Œå¾ˆå®¹æ˜“å°å·ï¼ŒGithubç›¸å¯¹æ¥è¯´æ›´å¼€æ”¾ï¼Œåªè¦ä¸æ˜¯æ»¥ç”¨å°±æ²¡å…³ç³»ï¼Œè€Œä¸”ä¹Ÿæœ‰æ¯ä¸ªä»“åº“çš„å­˜å‚¨ç©ºé—´çš„é™åˆ¶ï¼Œä¸ä¼šè®©ä½ è‚†æ„ä¸Šä¼ å¤§é‡å›¾ç‰‡å ç”¨æœåŠ¡å™¨ç©ºé—´ï¼Œè¿™äº›å®¹é‡ä¹Ÿè¶³å¤Ÿæˆ‘ä»¬ä¸ªäººåšå®¢ä½¿ç”¨äº†ã€‚

## PicGoé…ç½®

é€‰å®šäº†Githubä½œä¸ºå›¾åºŠåï¼Œæˆ‘ä»¬å°±è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹è½¯ä»¶æ¥é«˜æ•ˆçš„ä¸Šä¼ å’Œé¢„è§ˆå›¾åºŠä¸Šçš„å›¾ç‰‡ï¼Œåˆæ˜¯ä¸€ç•ªè°ƒç ”ï¼Œè¿™é‡Œå°±ä¸åˆ—å‡ºäº†ã€‚

æœ€ç»ˆé€‰å®šäº†çŸ¥ååº¦é«˜çš„å¼€æºå›¾åºŠç®¡ç†å·¥å…· **[PicGo](https://molunerfinn.com/PicGo/)** ï¼Œè€Œä¸”ä¹Ÿæ”¯æŒå¯¹æ¥åˆ°Typoraä¸­

![image-20250217005603839](https://cdn.jsdelivr.net/gh/antonhu/picx-images-hosting/picGo/image-20250217005603839.png)

ä¸‹è½½PicGoå®‰è£…åŒ…ï¼Œä¸€é”®å®‰è£…åå¯åŠ¨ï¼Œæ¥ç€åœ¨å›¾åºŠè®¾ç½®ä¸­é…ç½®Githubå›¾åºŠï¼Œä¾æ¬¡å¡«å†™å¿…å¡«é¡¹ï¼Œæœ€åæœ‰ä¸€ä¸ªè‡ªå®šä¹‰åŸŸåçš„å¡«å†™ï¼Œå¯ä»¥å°†ä½ ä¸Šä¼ åˆ°å›¾åºŠçš„è¿”é“¾ï¼Œæ›¿æ¢æ‰å‰ç¼€åŸŸåã€‚è¿™é‡Œå°±æ›¿æ¢æˆäº†**jsdelivr** åŸŸåï¼Œè¹­äº†ä¸ªå…è´¹çš„CDNğŸ˜Šã€‚

![image-20250217010658835](https://cdn.jsdelivr.net/gh/antonhu/picx-images-hosting/picGo/image-20250217010658835.png)

```javascript
// è‡ªå®šä¹‰åŸŸåæ ¼å¼å‚è€ƒ
https://cdn.jsdelivr.net/gh/ä½ çš„githubç”¨æˆ·å/å›¾åºŠä»“åº“å // å…¶ä¸­ghå°±æ˜¯githubçš„ç¼©å†™
```

![image-20250217010100978](https://cdn.jsdelivr.net/gh/antonhu/picx-images-hosting/picGo/image-20250217010100978.png)

ä¿å­˜å¹¶è®¾ç½®ä¸ºé»˜è®¤å›¾åºŠï¼ŒGithubå›¾åºŠå°±é…ç½®å®Œæˆäº†ï¼Œå¯ä»¥ä¸Šä¼ ä¸€å¼ å›¾ç‰‡æµ‹è¯•ä¸€ä¸‹ã€‚

## Typoraé…ç½®

æ¥ä¸‹æ¥å°±æ˜¯ä¸‹è½½ **[Typora](https://typora.io/)** ä¹Ÿæ˜¯å®‰è£…åŒ…ç›´æ¥å®‰è£…

å®‰è£…å®Œæˆæ‰“å¼€åï¼Œå¯¼å…¥ä½ çš„åšå®¢é¡¹ç›®æ–‡ä»¶å¤¹å³å¯ï¼Œé‡ç‚¹æ˜¯é…ç½®ç²˜è´´å›¾ç‰‡è‡ªåŠ¨ä¸Šä¼ å›¾åºŠã€‚

åœ¨â€œèœå•â€-â€œåå¥½è®¾ç½®â€ä¸­ï¼Œä¿®æ”¹å›¾åƒçš„é…ç½®ï¼Œæ’å…¥å›¾ç‰‡æ—¶â€œä¸Šä¼ å›¾ç‰‡â€ï¼Œä¸Šä¼ æœåŠ¡è®¾å®šâ€œPicGoï¼ˆappï¼‰â€ï¼ŒPicGoé€‰æ‹©ä½ æœ¬åœ°å®‰è£…çš„PicGoå¯åŠ¨ç¨‹åºã€‚

![image-20250217011328289](https://cdn.jsdelivr.net/gh/antonhu/picx-images-hosting/picGo/image-20250217011328289.png)

ä¿å­˜åï¼Œåœ¨ç¼–å†™æ–‡ç« çš„è¿‡ç¨‹ä¸­ï¼Œç²˜è´´è¿›æ¥çš„å›¾ç‰‡å°±ä¼šè‡ªåŠ¨ä½¿ç”¨PicGoä¸Šä¼ ï¼Œå¹¶ä¸”æ›¿æ¢æˆè¿”é“¾äº†ã€‚

å…è´¹ä¸”é«˜æ•ˆçš„ä¸€å¥—åšå®¢ç¼–è¾‘é…ç½®å°±æ­å»ºå®Œæˆäº†ï¼ğŸ¥³

## è‡ªåŠ¨åŒ–æµç¨‹

é™¤äº†ç¼–å†™è¿‡ç¨‹çš„ææ•ˆä¹‹å¤–ï¼Œè¿˜æœ‰é¡¹ç›®é…ç½®ï¼Œé¡¹ç›®éƒ¨ç½²ç­‰ç¯èŠ‚å¦‚æœèƒ½å®ç°è‡ªåŠ¨åŒ–ï¼Œä¹Ÿèƒ½è®©ä½ çš„åšå®¢ç¼–å†™æ•ˆç‡å’Œä½“éªŒæ›´å¥½ã€‚ä¸‹é¢æˆ‘å°±å†æä¾›ä¸€å¥—æˆ‘è‡ªå·±çš„è‡ªåŠ¨åŒ–æµç¨‹ã€‚

### è‡ªåŠ¨åŒ–è·¯ç”±

é€šè¿‡åœ¨é¡¹ç›®é‡Œï¼Œç¼–å†™ä¸€ä¸ªéå†æ–‡ç« ç›®å½•çš„è„šæœ¬ï¼Œæ ¹æ®é¡¹ç›®çš„ç›®å½•ç»“æ„è‡ªåŠ¨ç”Ÿæˆåšå®¢çš„è·¯ç”±é…ç½®ï¼Œè¿™æ ·ä»¥åå†æ–°å¢æ–‡ç« ï¼Œæˆ–ä¿®æ”¹æ–‡ç« åç§°æ—¶ï¼Œéƒ½ä¸éœ€è¦å†é…ç½®è·¯ç”±äº†ã€‚

è„šæœ¬æ–‡ä»¶ **sidebars.mts** å¦‚ä¸‹ï¼ˆè¯¥è„šæœ¬ä»…é€‚ç”¨vitepressæ„å»ºçš„åšå®¢ï¼‰ï¼š

```ts
// sidebars.mts å°†é¡¹ç›®ç›®å½•è½¬ä¸ºè·¯ç”±é…ç½®çš„è„šæœ¬
import fs from "fs";
import path from "path";
import { DefaultTheme } from "vitepress";

type SideBar = DefaultTheme.Config["sidebar"];

const HOME_PAGE = "index.md";
const STATIC_DIRECTORY = "public";

// å®šä¹‰è¦éå†çš„ç›®å½•
const docsDir = path.join(__dirname, "../../docs");

// é€’å½’ç”ŸæˆåµŒå¥—ç»“æ„
function buildNestedStructure(dir) {
  const result: SideBar = [];
  const files = fs.readdirSync(dir);

  files.forEach((file) => {
    const filePath = path.join(dir, file);
    const stat = fs.statSync(filePath);

    if (stat.isDirectory() && path.basename(file) !== STATIC_DIRECTORY) {
      // å¦‚æœæ˜¯ç›®å½•ï¼Œé€’å½’å¤„ç†ï¼Œæ’é™¤ public ç›®å½•
      const nestedItems = buildNestedStructure(filePath);
      result.push({
        text: file, // ç›®å½•å
        collapsed: false, // é»˜è®¤å±•å¼€
        items: nestedItems, // åµŒå¥—çš„å­é¡¹
      });
    } else if (
      stat.isFile() &&
      path.extname(file) === ".md" &&
      path.basename(file) !== HOME_PAGE
    ) {
      // å¦‚æœæ˜¯ Markdown æ–‡ä»¶ï¼Œç”Ÿæˆé“¾æ¥ï¼Œæ’é™¤é¦–é¡µ
      const relativePath = path.relative(docsDir, filePath).replace(/\\/g, "/"); // ç»Ÿä¸€è·¯å¾„åˆ†éš”ç¬¦
      const fileNameWithoutExt = path.basename(file, path.extname(file)); // å»æ‰åç¼€
      const link = `/${relativePath.replace(/\.md$/, "")}`; // ç”Ÿæˆé“¾æ¥

      result.push({
        text: fileNameWithoutExt, // æ–‡ä»¶åï¼ˆå»æ‰åç¼€ï¼‰
        link: link, // æ–‡ä»¶é“¾æ¥
      });
    }
  });

  return result;
}

export const getSidebars = () => {
  // ç”ŸæˆåµŒå¥—ç»“æ„
  const nestedStructure = buildNestedStructure(docsDir);
  // è¾“å‡ºç»“æœ
  // console.log(JSON.stringify(nestedStructure));
  return nestedStructure;
};
```

ç„¶ååœ¨é¡¹ç›®çš„ `config.mts` é…ç½®æ–‡ä»¶ä¸­ï¼Œå°† `sidebar` é…ç½®æ”¹ä¸ºè°ƒç”¨è„šæœ¬ä¸­çš„ `getSidebars`æ–¹æ³•å³å¯

### è‡ªåŠ¨åŒ–éƒ¨ç½²

é€šè¿‡é…ç½®Github Actionå®ç°ä»£ç æäº¤åè‡ªåŠ¨è§¦å‘éƒ¨ç½²Git Pagesï¼š

åœ¨ä½ çš„é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶å¤¹ `.github/workflows` ï¼Œå†åœ¨è¯¥æ–°æ–‡ä»¶å¤¹ä¸‹ï¼Œæ·»åŠ ä¸€ä¸ª `deploy.yaml` æ–‡ä»¶

![image-20250217012221493](https://cdn.jsdelivr.net/gh/antonhu/picx-images-hosting/picGo/image-20250217012221493.png)

ç¼–å†™ `deploy.yml` éƒ¨ç½²è„šæœ¬ï¼ˆè¯¥è„šæœ¬ä¸­é¡¹ç›®æ„å»ºçš„æŒ‡ä»¤ä»…é€‚ç”¨vitepressæ„å»ºçš„åšå®¢ï¼‰

```yaml
# æ„å»º VitePress ç«™ç‚¹å¹¶å°†å…¶éƒ¨ç½²åˆ° GitHub Pages çš„ç¤ºä¾‹å·¥ä½œæµç¨‹
#
name: Deploy VitePress site to Pages

on:
  # åœ¨é’ˆå¯¹ `main` åˆ†æ”¯çš„æ¨é€ä¸Šè¿è¡Œã€‚å¦‚æœä½ 
  # ä½¿ç”¨ `master` åˆ†æ”¯ä½œä¸ºé»˜è®¤åˆ†æ”¯ï¼Œè¯·å°†å…¶æ›´æ”¹ä¸º `master`
  push:
    branches: [main]

  # å…è®¸ä½ ä» Actions é€‰é¡¹å¡æ‰‹åŠ¨è¿è¡Œæ­¤å·¥ä½œæµç¨‹
  workflow_dispatch:

# è®¾ç½® GITHUB_TOKEN çš„æƒé™ï¼Œä»¥å…è®¸éƒ¨ç½²åˆ° GitHub Pages
permissions:
  contents: read
  pages: write
  id-token: write

# åªå…è®¸åŒæ—¶è¿›è¡Œä¸€æ¬¡éƒ¨ç½²ï¼Œè·³è¿‡æ­£åœ¨è¿è¡Œå’Œæœ€æ–°é˜Ÿåˆ—ä¹‹é—´çš„è¿è¡Œé˜Ÿåˆ—
# ä½†æ˜¯ï¼Œä¸è¦å–æ¶ˆæ­£åœ¨è¿›è¡Œçš„è¿è¡Œï¼Œå› ä¸ºæˆ‘ä»¬å¸Œæœ›å…è®¸è¿™äº›ç”Ÿäº§éƒ¨ç½²å®Œæˆ
concurrency:
  group: pages
  cancel-in-progress: false

jobs:
  # æ„å»ºå·¥ä½œ
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        with:
          fetch-depth: 0 # å¦‚æœæœªå¯ç”¨ lastUpdatedï¼Œåˆ™ä¸éœ€è¦
      - uses: pnpm/action-setup@v3 # å¦‚æœä½¿ç”¨ pnpmï¼Œè¯·å–æ¶ˆæ­¤åŒºåŸŸæ³¨é‡Š
        with:
          version: 9
      # - uses: oven-sh/setup-bun@v1 # å¦‚æœä½¿ç”¨ Bunï¼Œè¯·å–æ¶ˆæ³¨é‡Š
      - name: Setup Node
        uses: actions/setup-node@v4
        with:
          node-version: 20
          cache: pnpm # æˆ– npm / yarn
      - name: Setup Pages
        uses: actions/configure-pages@v4
      - name: Install dependencies
        run: pnpm install # æˆ– npm ci / yarn install / bun install
      - name: Build with VitePress
        run: pnpm docs:build # æˆ– npm run docs:build / yarn docs:build / bun run docs:build
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: .vitepress/dist

  # éƒ¨ç½²å·¥ä½œ
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    needs: build
    runs-on: ubuntu-latest
    name: Deploy
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4

```

è¿™æ ·åœ¨ä»£ç æ¨é€åˆ°Githubåï¼Œå°±ä¼šè§¦å‘workflowè‡ªåŠ¨éƒ¨ç½²Git Pagesäº†ã€‚

### .gitkeepè„šæœ¬

ç”±äºç©ºçš„æ–‡ä»¶å¤¹æ˜¯æ— æ³•è¢«gitè¿½è¸ªçš„ï¼Œä½†æ˜¯æœ‰æ—¶å€™æˆ‘ä»¬ä¼šéœ€è¦æå‰é¢„ç•™ä¸€äº›ç©ºæ–‡ä»¶å¤¹æ¥æ¢³ç†åšå®¢çš„å½’ç±»å’Œç»“æ„ï¼Œæˆ‘ä¹Ÿè°ƒç ”å°è¯•äº†å‡ ç§åŠæ³•ï¼Œæœ€ç»ˆé€‰æ‹©ç”¨.gitkeepæ–‡ä»¶çš„æ–¹å¼ã€‚

åœ¨ç©ºæ–‡ä»¶å¤¹ä¸‹æ”¾ç½®ä¸€ä¸ªç©ºç™½çš„ `.gitkeep` æ–‡ä»¶ï¼Œå¯ä»¥è®©è¯¥æ–‡ä»¶å¤¹å¼ºåˆ¶è¦æ±‚gitè·Ÿè¸ªã€‚

![image-20250217014308578](https://cdn.jsdelivr.net/gh/antonhu/picx-images-hosting/picGo/image-20250217014308578.png)

ä½†æ˜¯æ‰‹åŠ¨åˆ›å»ºæ–‡ä»¶ä¼šæœ‰ä½æ•ˆé—®é¢˜ï¼Œæ¯”å¦‚æœ‰å¾ˆå¤šç©ºæ–‡ä»¶å¤¹ï¼Œæˆ–è€…æ–‡ä»¶å¤¹æ·»åŠ æ–‡æ¡£äº†.gitkeepæ–‡ä»¶åº”è¯¥åˆ é™¤ï¼Œä»¥åŠåç»­è¿˜è¦æ–°å¢ç©ºæ–‡ä»¶å¤¹ï¼Œè°ƒæ•´ç›®å½•ç»“æ„ï¼Œéƒ½è¦æ‰‹åŠ¨åˆ›å»º.gitkeepæ–‡ä»¶ä¹Ÿæ˜¯ä¸€ç§éº»çƒ¦ã€‚

äºæ˜¯æˆ‘åˆå†™äº†ä¸€ä¸ªè„šæœ¬ï¼Œèƒ½è‡ªåŠ¨éå†é¡¹ç›®é‡Œçš„ç©ºæ–‡ä»¶å¤¹ï¼Œæ·»åŠ .gitkeepæ–‡ä»¶ï¼Œå°†éç©ºæ–‡ä»¶å¤¹ä¸‹çš„.gitkeepæ–‡ä»¶åˆ é™¤ï¼Œå¹¶å°†è„šæœ¬ç»“åˆäº†Git Hooksï¼Œåœ¨æ¯æ¬¡æäº¤ä»£ç ä¹‹å‰è‡ªåŠ¨å¤„ç†ã€‚

è„šæœ¬å®ç°å¦‚ä¸‹ï¼š

```js
// precommit.js
import fs from 'fs';
import path from 'path';
import GitCommander from './gitScripts.js';
import chalk from 'chalk';

// è·å–é¡¹ç›®çš„æ ¹ç›®å½•
const projectRoot = process.cwd();
// éœ€è¦å¿½ç•¥çš„ç›®å½•
const ignoredDirectories = ['node_modules', '.git'];

// é€’å½’åœ°æ£€æŸ¥ç›®å½•ä¸­çš„ç©ºæ–‡ä»¶å¤¹
function checkEmptyDirectories(dirPath) {
    const stats = fs.statSync(dirPath);
    // å¦‚æœä¸æ˜¯ç›®å½•ï¼Œç›´æ¥è¿”å›
    if (!stats.isDirectory()) return;
    // è·³è¿‡å¿½ç•¥çš„ç›®å½•
    if (ignoredDirectories.includes(path.basename(dirPath))) return

    const files = fs.readdirSync(dirPath);
    if (files.length === 0) {
        // å¦‚æœç›®å½•ä¸ºç©ºï¼Œåˆ›å»º .gitkeep æ–‡ä»¶
        const gitkeepPath = path.join(dirPath, '.gitkeep');
        fs.writeFileSync(gitkeepPath, '');
        console.log(chalk.green(`å·²åˆ›å»º .gitkeep æ–‡ä»¶ï¼š${gitkeepPath}`));
        return;
    }
    if (files.length === 1 && files[0] === '.gitkeep') {
        // å¦‚æœç›®å½•ä¸­åªæœ‰.gitkeep æ–‡ä»¶ï¼Œç›´æ¥è¿”å›
        return;
    }
    if (files.length > 1 && files.includes('.gitkeep')) {
        // å¦‚æœç›®å½•ä¸­æœ‰å¤šä¸ªæ–‡ä»¶ï¼Œä¸”æœ‰.gitkeep æ–‡ä»¶ï¼Œåˆ é™¤.gitkeep æ–‡ä»¶
        const gitkeepPath = path.join(dirPath, '.gitkeep');
        fs.unlinkSync(gitkeepPath);
        console.log(chalk.yellow(`å·²åˆ é™¤ .gitkeep æ–‡ä»¶ï¼š${gitkeepPath}`));
        return;
    }
    // éå†ç›®å½•ä¸­çš„æ–‡ä»¶ï¼Œé€’å½’è°ƒç”¨ checkEmptyDirectories å‡½æ•°
    files.forEach(file => checkEmptyDirectories(path.join(dirPath, file)));
}

// è°ƒç”¨å‡½æ•°æ£€æŸ¥é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ç©ºæ–‡ä»¶å¤¹
checkEmptyDirectories(projectRoot);
// è‡ªåŠ¨æ·»åŠ æ‰€æœ‰æ–‡ä»¶åˆ° git

(async () => {
    const gitCommander = new GitCommander();
    const pullResult = await gitCommander.pull()
    const addResult = pullResult && gitCommander.add()
    const statusResult = addResult && gitCommander.status()
    const commitResult = statusResult && await gitCommander.commit()
    commitResult && await gitCommander.push()
})()
```

### Git Hooks

ä¸ºäº†åœ¨æ¯æ¬¡gitæäº¤ä¹‹å‰è‡ªåŠ¨å¤„ç†.gitkeepæ–‡ä»¶ï¼Œæˆ‘åˆåˆå†™äº†ä¸€ä¸ªè„šæœ¬ï¼Œè¯¥è„šæœ¬ä¼˜åŒ–äº†ä»£ç æäº¤çš„æ­¥éª¤ï¼š

`addæ–‡ä»¶ -> æ£€æŸ¥æ–‡ä»¶diff -> é€‰æ‹©commit type -> å¡«å†™commit message -> push -> ä»»æ„ç¯èŠ‚å‡ºé”™è‡ªåŠ¨reset`

å¹¶ä¸²è”èµ·äº†.gitkeepæ–‡ä»¶å¤„ç†çš„è„šæœ¬ï¼Œé€šè¿‡è‡ªå®šä¹‰ä¸€ä¸ª`pnpm commit`æŒ‡ä»¤ï¼Œæ¥è‡ªåŠ¨æ‰§è¡Œä¸¤ä¸ªè„šæœ¬çš„å®Œæ•´æµç¨‹ï¼Œå®ç°ä»£ç æäº¤çš„æ‰€æœ‰å·¥ä½œ

![image-20250217020120365](https://cdn.jsdelivr.net/gh/antonhu/picx-images-hosting/picGo/image-20250217020120365.png)

```js
// gitScripts.js
import childProcess from "child_process";
import inquirer from "inquirer";
import chalk from "chalk";

class GitCommander {
    constructor() {
        this.init()
    }
    init = () => {
        // ç›‘å¬ SIGINT ä¿¡å·ï¼ˆCtrl+Cï¼‰
        process.on('SIGINT', () => {
            console.log(chalk.yellow('\næ£€æµ‹åˆ°Ctrl+Cã€‚æ‰§è¡Œ git reset...'));
            this.reset();
            process.exit(0);
        });
    
        // æœªæ•è·çš„å¼‚å¸¸å¤„ç†
        process.on('uncaughtException', (err) => {
            console.error(chalk.red('æœªæ•è·çš„å¼‚å¸¸:', err));
            this.reset();
            process.exit(1);
        });
    }

    reset = () => {
        try {
            // æ‰§è¡Œ git reset å‘½ä»¤
            const resetResult = childProcess.execSync(`git reset`);
            console.log(chalk.red(`å·²æ‰§è¡Œ git reset æŒ‡ä»¤ï¼š\n${resetResult.toString()}`));
            return true
        } catch (error) {
            console.error("æ‰§è¡Œ git reset å¤±è´¥:", error);
            return false
        }
    };

    pull = (remote = "origin") => {
        try {
            // æ‰§è¡Œ git pull å‘½ä»¤
            const pullResult = childProcess.execSync(`git pull ${remote}`);
            console.log(chalk.green(`å·²æ‰§è¡Œ git pull æŒ‡ä»¤ï¼š\n${pullResult.toString()}`));
            return true
        } catch (error) {
            this.reset();
            console.error("æ‰§è¡Œ git pull å¤±è´¥:", error);
            return false
        }
    };
    
    add = (path = ".") => {
        try {
            // æ‰§è¡Œ git add å‘½ä»¤
            const addResult = childProcess.execSync(`git add ${path}`);
            console.log(chalk.green(`å·²æ‰§è¡Œ git add æŒ‡ä»¤ï¼š\n${addResult.toString()}`));
            return true
        } catch (error) {
            this.reset();
            console.error("æ‰§è¡Œ git add å¤±è´¥:", error);
            return false
        }
    };
    
    status = () => {
        try {
            const output = childProcess.execSync("git status").toString();
            const lines = output.split("\n");
            const changes = [];
    
            for (let line of lines) {
                line = line.trim();
                if (
                    line.startsWith("modified:") ||
                    line.startsWith("deleted:") ||
                    line.startsWith("new file:") ||
                    line.startsWith("renamed:") ||
                    line.startsWith("copied:") ||
                    line.startsWith("type change:")
                ) {
                    const changeParts = line.split(":");
                    if (changeParts.length >= 2) {
                        const changeType = changeParts[0].trim();
                        const fileName = changeParts.slice(1).join(":").trim();
                        changes.push({ å˜åŠ¨: changeType, æ–‡ä»¶: fileName });
                    }
                }
            }
    
            if (changes.length > 0) {
                console.log(chalk.blue("æœ¬æ¬¡æäº¤æœ‰ä»¥ä¸‹å˜æ›´æ–‡ä»¶:"));
                console.table(changes);
                return true
            } else {
                this.reset();
                console.log(chalk.red("æœ¬æ¬¡æäº¤æ— å˜æ›´æ–‡ä»¶"));
                return false
            }
        } catch (err) {
            this.reset();
            console.log(chalk.red("æ— æ³•è·å– git status:", err));
            return false
        }
    };
    
    commit = async () => {
        // ä½¿ç”¨ inquirer æç¤ºç”¨æˆ·è¾“å…¥ commit message
        const answer = await inquirer.prompt([
            {
                type: "list",
                name: "commitType",
                message: chalk.blue("é€‰æ‹©æœ¬æ¬¡æäº¤çš„ç±»å‹:"),
                choices: [
                    "ã€åŠŸèƒ½ã€‘",
                    "ã€BUGã€‘",
                    "ã€ç»´æŠ¤ã€‘",
                    "ã€æµ‹è¯•ã€‘",
                    "ã€è§„èŒƒã€‘",
                    "ã€æ–‡æ¡£ã€‘",
                    "ã€é‡æ„ã€‘",
                ],
                default: "ã€ç»´æŠ¤ã€‘",
            },
            {
                type: "input",
                name: "commitMessage",
                message: chalk.blue("è¯·è¾“å…¥commit message:"),
                validate: (input) => {
                    if (input.trim().length === 0) {
                        return "ä¸èƒ½æäº¤ç©ºçš„ commit message";
                    }
                    return true;
                },
            },
        ]);
    
        // æå–ç”¨æˆ·è¾“å…¥çš„ commit message
        const { commitMessage, commitType } = answer;
    
        try {
            // æ‰§è¡Œ git commit å‘½ä»¤
            childProcess.execSync(`git commit -am "${commitType}${commitMessage}"`);
            console.log(chalk.green(
                `å·²æ‰§è¡Œ git commit -am æŒ‡ä»¤: ${commitType}${commitMessage}`
            ));
            return true
        } catch (error) {
            this.reset();
            console.error("æ‰§è¡Œ git commit å¤±è´¥:", error);
            return false
        }
    };
    
    push = async (remote = "origin") => {
        // ä½¿ç”¨ inquirer æç¤ºç”¨æˆ·è¾“å…¥ commit message
        const answer = await inquirer.prompt([
            {
                type: "input",
                name: "ifPush",
                message: chalk.blue("æ˜¯å¦è¦æ¨é€åˆ°è¿œç¨‹,é»˜è®¤æ˜¯(Y/N):"),
                validate: (input) => {
                    if (input.trim() !== "" && input.trim() !== "Y" && input.trim() !== "N") {
                        return "è¯·è¾“å…¥ Y æˆ– N";
                    }
                    return true;
                },
                default: "Y",
            },
        ]);
    
        const { ifPush } = answer;
        if (ifPush !== "Y") {
            console.log(chalk.red("è¯·è‡ªè¡Œæ¨é€åˆ°è¿œç¨‹ä»“åº“"));
            return;
        }
        try {
            // æ‰§è¡Œ git push å‘½ä»¤
            const pushResult = childProcess.execSync(`git push ${remote}`);
            console.log(chalk.green(`å·²æ‰§è¡Œ git push æŒ‡ä»¤ï¼š\n${pushResult.toString()}`));
            return true
        } catch (error) {
            this.reset();
            console.error("æ‰§è¡Œ git push å¤±è´¥:", error);
            return false
        }
    };
}

export default GitCommander
```



## ç»“è¯­

åšå®¢æƒ³è¦å†™çš„ç”ŸåŠ¨ä¸æ¯ç‡¥ï¼Œå°‘ä¸äº†è¡¨æƒ…æ¥è°ƒèŠ‚æ°›å›´ï¼Œè¿™é‡Œæ¨èä¸€ä¸‹æˆ‘åšçš„ **[emojiæœç´¢å·¥å…·](https://antonhu.github.io/emoji)**ï¼Œå¯ä»¥ä¸­æ–‡æœç´¢emojiï¼Œç‚¹å‡»å¤åˆ¶å°±èƒ½ç²˜è´´åˆ°ä½ çš„åšå®¢é‡Œäº†ï¼Œå†™é¡¹ç›®READMEï¼Œç¾åŒ–ä½ çš„Githubä¸»é¡µä¹Ÿå¯ä»¥ç”¨ä¸Šã€‚

![image-20250216200329951](https://cdn.jsdelivr.net/gh/antonhu/picx-images-hosting/picGo/image-20250216200329951.png)
