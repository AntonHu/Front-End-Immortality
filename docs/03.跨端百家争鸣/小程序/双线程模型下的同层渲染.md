---
typora-copy-images-to: upload
---

# 双线程模型下的同层渲染

## Native层渲染组件

如果你了解过小程序的原理，应该知道小程序的大部分组件渲染是通过webview实现的，但有些交互复杂的组件，为了获得原生一般良好的体验，选择了在Native层进行渲染，再交给webview展现，例如 `Video`

![img](https://AntonHu.github.io/picx-images-hosting/技术文档/跨端/小程序/Native层渲染组件示意图.b90uwfrnq.webp)

### 缺陷

虽然这会带来更好的交互体验，但同时带来了一些开发障碍，Native层渲染的组件具有更高的层级，渲染到webview上无法通过z-index来控制层级的顺序，例如无法在上方覆盖其他元素，也无法放到 `scroll-view` 等容器中。



### 临时方案

为了应对这一问题，微信小程序推出了 `cover-view` 和 `cover-image` 系列组件，拥有更高的层级，满足覆盖在原生组件上的需求。

## 同层渲染

后续为更彻底解决这一层级问题，小程序重构了原生组件的渲染方案，推出了一种“同层渲染”的设计。
